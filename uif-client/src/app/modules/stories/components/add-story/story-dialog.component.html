<div class="dialog-wrap">
    <mat-form-field class="story-title half-width">
        <mat-label>Заголовок</mat-label>
        <input matInput cdkFocusInitial [(ngModel)]="data.story.title" />
    </mat-form-field>
    <span class="half-width">
        <mat-checkbox [(ngModel)]="data.story.isPublished">Публікувати</mat-checkbox>
    </span>
    <mat-form-field class="text-wrap" appearance="outline">
        <mat-label>Історія</mat-label>
        <textarea matInput [(ngModel)]="data.story.text" class="text-area"></textarea>
    </mat-form-field>
    <mat-form-field class="text-wrap half-width">
        <mat-label>Шлях до зображення</mat-label>
        <input matInput [(ngModel)]="data.story.image" />
    </mat-form-field>
    <mat-form-field class="text-wrap half-width">
        <mat-label>Шлях до історії</mat-label>
        <input matInput [(ngModel)]="data.story.storyPath" [disabled]="data.story.storyPath === 'sandbox'" />
        <mat-hint><u>https://ukrainiansinfact.org.ua/stories/{{data.story.storyPath}}</u></mat-hint>
    </mat-form-field>
    <mat-form-field class="text-wrap half-width top-margin">
        <mat-label>Профіль у Facebook</mat-label>
        <input matInput [(ngModel)]="data.story.facebookProfile" />
        <mat-hint><u>https://facebook.com/{{data.story.facebookProfile}}</u></mat-hint>
    </mat-form-field>
    <mat-form-field class="text-wrap half-width">
        <mat-label>Профіль у Instagram</mat-label>
        <input matInput [(ngModel)]="data.story.instagramProfile" />
        <mat-hint><u>https://www.instagram.com/{{data.story.instagramProfile}}</u></mat-hint>
    </mat-form-field>
    <!-- <mat-form-field class="text-wrap">
        <mat-label>Код для вставки з інстаграму (тестовий режим)</mat-label>
        <input matInput [(ngModel)]="data.story.instagramEmbedCode" />
    </mat-form-field> -->

    <mat-form-field class="text-wrap" *ngIf="authService.userIsAdmin || authService.userIsEditor">
        <mat-label>Email</mat-label>
        <input matInput [(ngModel)]="data.story.email" />
    </mat-form-field>
    
</div>

<div mat-dialog-actions>
    <button mat-button mat-flat-button color="primary" [mat-dialog-close]="{ story: data.story }">OK</button>
    <button mat-button (click)="cancel()">Відхилити зміни</button>
</div>
